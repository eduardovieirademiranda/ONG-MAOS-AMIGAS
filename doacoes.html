<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Doações – ONG Mãos Amigas</title>
  <link rel="stylesheet" href="style.css">
  <meta name="description" content="Doe para a ONG Mãos Amigas via PIX, cartão, boleto ou doação de itens. Sua ajuda transforma vidas.">
</head>
<body>

<!-- NAVBAR -->
<nav class="navbar">
  <div class="wrap">
    <a href="index.html" class="brand" aria-label="ONG Mãos Amigas - Início">
      <img class="logo" src="imagens/logo.png" alt="Logo ONG Mãos Amigas" loading="lazy">
      <span>Mãos Amigas</span>
    </a>

    <div class="spacer"></div>

    <button class="burger" id="menuToggle" aria-label="Abrir menu">☰</button>

    <div class="links" id="menuLinks">
      <p><a href="index.html" class="btn ghost">Voltar ao Início</a></p>
      <a class="active" href="doacoes.html" aria-current="page">Doações</a>
    </div>
  </div>
</nav>

<!-- HERO -->
<header class="hero hero--sm">
  <div class="wrap">
    <h1>Doe e transforme vidas</h1>
    <p>Com a sua contribuição, mantemos projetos sociais e atendemos famílias em vulnerabilidade.</p>
  </div>
</header>

<main>

<!-- GRÁFICO -->
<section class="grafico-doacoes">
  <h2>Como usamos sua doação</h2>
  <p>Veja para onde vai cada contribuição e como ela faz a diferença.</p>

  <div class="grafico-container">
    <canvas id="graficoDoacoes" width="400" height="400"></canvas>
  
  </div>
</section>

<div class="wrap">

<!-- VALORES -->
<section aria-labelledby="doe-agora">
  <h2 id="doe-agora">Escolha um valor</h2>
  <div class="card">
    <div class="grid grid-5">
      <button class="btn btn-chip" data-valor="20">R$ 20</button>
      <button class="btn btn-chip" data-valor="50">R$ 50</button>
      <button class="btn btn-chip" data-valor="100">R$ 100</button>
      <button class="btn btn-chip" data-valor="200">R$ 200</button>
      <button class="btn btn-chip" data-valor="0">Outro</button>
    </div>

    <div class="form-row" style="margin-top:1rem;">
      <label for="valorDoacao">Valor (R$)</label>
      <input id="valorDoacao" name="valorDoacao" type="number" min="1" step="0.01" inputmode="decimal" placeholder="Ex.: 50,00">
    </div>

    <div class="form-row" style="margin-top:.5rem;">
      <label class="check">
        <input type="checkbox" id="recorrente">
        <span>Quero tornar minha doação <strong>mensal</strong></span>
      </label>
    </div>
  </div>
</section>

<!-- MÉTODOS DE DOAÇÃO -->
<section aria-labelledby="metodos">
  <h2 id="metodos">Como doar</h2>

  <div class="grid grid-3">

    <!-- PIX -->
    <article class="card">
      <h3>PIX</h3>
      <p><strong>Chave PIX:</strong> <span id="pixKey">eduardo.mi.2005@gmail.com</span></p>
      <div class="grid grid-2" style="align-items:center;">
        <img src="imagens/pix-qr.png" alt="QR Code PIX da ONG Mãos Amigas" style="max-width:180px; width:100%; height:auto;" loading="lazy">
        <div>
          <button class="btn" id="copiarPix" aria-label="Copiar chave PIX">Copiar chave</button>
          <p id="copiadoMsg" class="muted" aria-live="polite" style="margin-top:.5rem;"></p>
        </div>
      </div>
      <p class="muted" style="margin-top:.5rem;">Confirme o nome/CNPJ no app do seu banco antes de concluir.</p>
    </article>

    <!-- CARTÃO / BOLETO -->
    <article class="card">
      <h3>Cartão / Boleto</h3>
      <p>Doe com cartão de crédito ou boleto pela nossa página segura de pagamento.</p>
      <div class="stack">
        <a class="btn" target="_blank" rel="noopener noreferrer"
           href="http://link.mercadopago.com.br/doecaoongmaoamigas">Doar agora</a>
      </div>
      <p class="muted" style="margin-top:.5rem;">Pagamento processado pelo Mercado Pago.</p>
    </article>

    <!-- TRANSFERÊNCIA -->
    <article class="card">
      <h3>Transferência bancária</h3>
      <ul class="clean">
        <li><strong>Banco:</strong> Banco Exemplo (000)</li>
        <li><strong>Agência:</strong> 1234-5</li>
        <li><strong>Conta:</strong> 000123-4</li>
        <li><strong>Tipo:</strong> Corrente</li>
        <li><strong>Favorecido:</strong> Associação Mãos Amigas</li>
        <li><strong>CNPJ:</strong> 12.345.678/0001-90</li>
      </ul>
      <p class="muted">Envie o comprovante para <a href="mailto:financeiro@maosamigas.org.br">financeiro@maosamigas.org.br</a> para emissão de recibo.</p>
    </article>

  </div>
</section>

<!-- DOAÇÃO DE ITENS -->
<section aria-labelledby="itens">
  <h2 id="itens">Doação de itens</h2>
  <div class="card">
    <div class="grid grid-2">
      <div>
        <h3>Lista de necessidades (atual)</h3>
        <ul>
          <li>Cestas básicas (arroz, feijão, óleo, leite em pó)</li>
          <li>Produtos de higiene (sabonete, pasta e escova de dente)</li>
          <li>Roupas em bom estado (adulto e infantil)</li>
          <li>Materiais escolares</li>
        </ul>
        <p class="muted">Entregas: Rua Exemplo, 123 – São Paulo/SP – Seg a Sex, 9h–17h.</p>
      </div>
      <div>
        <h3>Agendar coleta</h3>
        <form id="formColeta" class="form">
          <div class="form-row">
            <label for="nome">Nome completo</label>
            <input id="nome" name="nome" type="text" required placeholder="Seu nome">
          </div>
          <div class="form-row">
            <label for="telefone">Telefone</label>
            <input id="telefone" name="telefone" type="tel" required placeholder="(11) 90000-0000" pattern="\(\d{2}\) \d{4,5}-\d{4}">
          </div>
          <div class="form-row">
            <label for="cep">CEP</label>
            <input id="cep" name="cep" type="text" required placeholder="00000-000" pattern="\d{5}-\d{3}">
          </div>
          <div class="form-row">
            <label for="endereco">Endereço</label>
            <input id="endereco" name="endereco" type="text" required placeholder="Rua, número, bairro">
          </div>
          <div class="form-row">
            <label for="itens">O que deseja doar?</label>
            <input id="itens" name="itens" type="text" required placeholder="Ex.: roupas, alimentos, higiene">
          </div>
          <label class="check">
            <input type="checkbox" required>
            <span>Concordo com o uso dos meus dados para agendamento (LGPD).</span>
          </label>
          <button class="btn" type="submit">Pedir coleta</button>
          <p id="msgColeta" class="muted" aria-live="polite" style="margin-top:.5rem;"></p>
        </form>
      </div>
    </div>
  </div>
</section>

<!-- FAQ -->
<section aria-labelledby="faq">
  <h2 id="faq">Perguntas frequentes</h2>
  <div class="card">
    <details>
      <summary>Recebo comprovante da doação?</summary>
      <p>Sim. Enviamos por e-mail até 3 dias úteis após a confirmação do pagamento ou do recebimento do item.</p>
    </details>
    <details>
      <summary>É seguro doar pelo site?</summary>
      <p>Usamos plataformas reconhecidas para processar pagamentos. Seus dados são protegidos e não ficam salvos no nosso site.</p>
    </details>
    <details>
      <summary>Como cancelar uma doação mensal?</summary>
      <p>Você pode cancelar a recorrência diretamente no gateway (link do recibo) ou solicitar por e-mail.</p>
    </details>
  </div>
</section>

</div>
</main>

<!-- RODAPÉ -->
<footer class="footer">
  <div class="wrap">
    <p><strong>Associação Mãos Amigas</strong> — São Paulo/SP</p>
    <p>Contato: <a href="mailto:contato@maosamigas.org.br">contato@maosamigas.org.br</a> • <a href="tel:+551100000000">(11) 0000-0000</a></p>
    <p class="muted">CNPJ 12.345.678/0001-90 • © 2025</p>
  </div>
</footer>

<!-- SCRIPTS -->
<script>
  // menu mobile
  document.getElementById('menuToggle')?.addEventListener('click', () => {
    document.getElementById('menuLinks')?.classList.toggle('open');
  });

  // chips de valor
  document.querySelectorAll('.btn-chip').forEach(btn => {
    btn.addEventListener('click', () => {
      const v = btn.getAttribute('data-valor');
      const input = document.getElementById('valorDoacao');
      if (!input) return;
      if (v === '0') {
        input.focus();
        input.value = '';
      } else {
        input.value = v;
      }
    });
  });

  // copiar chave PIX
  const copiar = document.getElementById('copiarPix');
  copiar?.addEventListener('click', async () => {
    const chave = document.getElementById('pixKey')?.textContent?.trim() || '';
    const msg = document.getElementById('copiadoMsg');
    try {
      await navigator.clipboard.writeText(chave);
      if (msg) {
        msg.textContent = 'Chave copiada!';
        setTimeout(() => msg.textContent = '', 2500);
      }
    } catch (e) {
      if (msg) msg.textContent = 'Não foi possível copiar. Selecione e copie manualmente.';
    }
  });

  // formulário de coleta
  const form = document.getElementById('formColeta');
  form?.addEventListener('submit', (e) => {
    e.preventDefault();
    const saida = document.getElementById('msgColeta');
    if (saida) {
      saida.textContent = 'Recebemos sua solicitação de coleta. Em breve entraremos em contato por WhatsApp/E-mail.';
    }
    form.reset();
  });
</script>

<!-- GRÁFICO -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
  const ctx = document.getElementById('graficoDoacoes').getContext('2d');
  new Chart(ctx, {
    type: 'doughnut',
    data: {
      labels: [
        'Projetos Sociais',
        'Educação e Oficinas',
        'Cestas Básicas',
        'Administração',
        'Emergências'
      ],
      datasets: [{
        data: [35, 25, 20, 10, 10],
        backgroundColor: ['#4FC3F7', '#81C784', '#F06292', '#BA68C8', '#FFD54F'],
        borderColor: '#ffffff',
        borderWidth: 2
      }]
    },
    options: {
      responsive: true,
      maintainAspectRatio: false,
      plugins: {
        legend: {
          position: 'bottom',
          labels: { color: '#333', font: { size: 14 } }
        },
        tooltip: {
          callbacks: {
            label: (ctx) => {
              const total = ctx.dataset.data.reduce((a, b) => a + b, 0);
              const valor = ctx.parsed;
              const pct = ((valor / total) * 100).toFixed(1) + '%';
              return ` ${ctx.label}: ${pct}`;
            }
          }
        },
        title: {
          display: true,
          text: 'Distribuição das Doações (%)',
          color: '#222',
          font: { size: 18, weight: 'bold' }
        }
      }
    }
  });
</script>

<noscript>Para experiência completa (copiar PIX, mensagens e gráfico), ative o JavaScript.</noscript>
</body>
</html>
